## ðŸ“ˆ Progress
This will be a technical summary of the work I completed in my notebook designing the circuitry for the signal modification of the fluorescent sensor. I thought in a rational manner, taking it step-by-step and asking myself as many questions as possbile along the way.

---
### Sensor Basics

Linearity: 
Sensitivity: 
Noise: 
Resolution: 
Bandwidth: 
Junction Capacitance: 

---
### Converting Current to Voltage

First, we have the current generated by the photodiode. This current needs to be converted to a voltage for the microncontroller to process. To do this, we can use a transimpedance amplifier. The photodiode's current can be fed into the inverting input, and the current across the feedback resistor converts it to a voltage. In this case, our output voltage is equal to -Ip * R1. 

We want to maximize our sensitivity. We can do this by using a larger feedback resistor to create a larger gain for more voltage per unit of current. Choosing an op-amp with a low-level bias current and voltage will also be helpful in dealing with the input/output bias conversion accuracy and leakage current of op-amp. We also want to maximize linearity. This is already taken care of by the characteristic op-amp, which has a virtual ground because of the essentially infinite resistance, and the photodiode will see almost no voltage across it. To avoid any sort of oscillation, we can add a small feedback capacitor across the resistor to damp the signal peaking and establish a bandwidth.

---
### Photodiode Bias
The speed and sensitivity of the photodiode are dependent on the parasitic junction capacitance. If there is a higher capacitance, we yield a slower response and worse bandwidth. A reverse bias can be abbplied to the photodiode to reduce this capacitance, meaning we apply a DC voltage across it in the opposite direction of the normal current flow. The reverse bias widens the insulating depletion region which decreases the capacitance. 

---
### Signal Variability
My largest concern is the possibility of signal saturation due to a strong enough light intensity. If we use a strong enough light source, the curent generated is greater than the ADC can handle, and we reach saturation thus leading to an incorrect measurement. The solution to this is to implement a programmable gain transimpedance amplfier, which is where the OPA857 from Texas Instruments comes in. A resistor ladder is implemented with analog switches to allow us to adjus the feedback resistor according to the photodiode current.

Official Description - "The OPA857 is a wideband, fast overdrive recovery, fast-settling, ultralow-noise transimpedance amplifier targeted at photodiode monitoring applications. With selectable feedback resistance, the OPA857
simplifies the design of high-performance optical systems. Very fast overload recovery time and internal input protection provide the best combination to protect the remainder of the signal chain from
overdrive while minimizing recovery time. The two selectable transimpedance gain configurations allow high dynamic range and flexibility required in modern transimpedance amplifier applications." 

---

## ðŸ§© Challenges

## ðŸ¥… Goals
Tomorrow, I would like to flesh out the physical design of the device. I plan to begin with a system-level block diagram and build my way up towards a technical sketch, and ultimately a schematic to be implemented as a PCB.
